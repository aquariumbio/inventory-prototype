{"ast":null,"code":"var _jsxFileName = \"/Users/gene/Aquarium_v3/aquarium_prototype/frontend/src/items/ItemPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport '../App.css';\nimport backendAPI from \"../api/backendAPI\";\nimport Member from \"./_member\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst App = ({\n  match\n}) => {\n  _s();\n\n  const id = match.params.id;\n  const [member, setMember] = useState({});\n  const [friends, setFriends] = useState([]);\n  const [members, setMembers] = useState([]);\n  const [searchText, setSearchText] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  useEffect(() => {\n    const init = async () => {\n      // get member\n      const response = await backendAPI.getMember(id); // get members for select box\n\n      const response2 = await backendAPI.getMembers();\n      if (!response || !response2) return; // success\n\n      setMember(response.member);\n      setFriends(response.friends);\n      setMembers(response2);\n    };\n\n    init();\n  }, []);\n\n  const addFriend = async friend_id => {\n    // get member\n    const response = await backendAPI.addFriend(id, friend_id);\n    if (!response) return; // form errors\n\n    if (response.errors) {\n      alert('Errors\\n- ' + response.errors.join('\\n- '));\n      window.location.reload(true);\n      return;\n    } // success\n\n\n    window.location.reload(true);\n  };\n\n  const handleFind = async text => {\n    // add member\n    const response = await backendAPI.findIntroductions(id, searchText);\n    if (!response) return; // form errors\n\n    if (response.errors) {\n      alert('Errors\\n- ' + response.errors.join('\\n- '));\n      return;\n    } // success\n\n\n    setSearchResults(response);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"breadcrumbs\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/members\",\n        children: \"Members\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \">\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), member.first_name, ' ', member.last_name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-title\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-1\",\n        children: \"Member Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-1\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-4\",\n        children: [member.first_name, ' ', member.last_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-1\",\n        children: \"URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-4\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: member.url,\n          target: \"_blank\",\n          children: member.url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-1\",\n        children: \"Short URL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-4\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: member.short_url,\n          target: \"_blank\",\n          children: member.short_url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-1\",\n        children: \"Headings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-4\",\n        children: member.heading_text ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: member.heading_text.split('  ').map(text => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 17\n          }, this))\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"-\"\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-1\",\n        children: \"Friends\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-col-4\",\n        children: [friends.map(friend => /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"margin-8-0\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/members/${friend.id}`,\n            children: [friend.first_name, \" \", friend.last_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"select\", {\n          class: \"margin-8-0\",\n          onChange: event => {\n            addFriend(event.target.value);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"0\",\n            children: \"Add Friend... \\xA0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), members.map(member => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: member.id,\n            children: [member.first_name, \" \", member.last_name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"plus-16\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"box\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-title-box\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-col-1\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"plus-8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-row-box\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-col-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            class: \"width-400\",\n            placeholder: \"Search Text\",\n            value: searchText,\n            onChange: event => {\n              setSearchText(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleFind,\n            children: \"Find Introductions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"plus-8 border-bottom\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-title-box\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-col-1\",\n          children: \"Search Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-col-2\",\n          children: \"Heading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), searchResults.length == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"padding-8\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          children: \"No Search Results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: searchResults.map(result => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-row-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-col-1\",\n            children: [result.member, /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"separator\",\n              children: \">\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `/member/${result.through_id}`,\n              target: \"_blank\",\n              children: result.through\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"separator\",\n              children: \">\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `/member/${result.to_id}`,\n              target: \"_blank\",\n              children: result.to\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-col-2\",\n            children: result.match_text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }, this))\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(App, \"tLTwrmWn+zUV1lCeVOPL4V1svQ0=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/gene/Aquarium_v3/aquarium_prototype/frontend/src/items/ItemPage.jsx"],"names":["React","useState","useEffect","backendAPI","Member","App","match","id","params","member","setMember","friends","setFriends","members","setMembers","searchText","setSearchText","searchResults","setSearchResults","init","response","getMember","response2","getMembers","addFriend","friend_id","errors","alert","join","window","location","reload","handleFind","text","findIntroductions","first_name","last_name","url","short_url","heading_text","split","map","friend","event","target","value","length","result","through_id","through","to_id","to","match_text"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\n\nimport '../App.css';\nimport backendAPI from \"../api/backendAPI\";\nimport Member from \"./_member\";\n\nconst App = ({match}) => {\n  const id = match.params.id;\n  const [member, setMember] = useState({});\n  const [friends, setFriends] = useState([]);\n  const [members, setMembers] = useState([]);\n  const [searchText, setSearchText] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n\n  useEffect(() => {\n    const init = async () => {\n\n      // get member\n      const response = await backendAPI.getMember(id);\n      // get members for select box\n      const response2 = await backendAPI.getMembers();\n      if (!response || !response2) return;\n\n      // success\n      setMember(response.member);\n      setFriends(response.friends);\n      setMembers(response2);\n    };\n\n    init();\n  }, []);\n\n  const addFriend = async (friend_id) => {\n    // get member\n    const response = await backendAPI.addFriend(id, friend_id);\n    if (!response) return;\n\n    // form errors\n    if (response.errors) {\n      alert('Errors\\n- '+response.errors.join('\\n- '))\n      window.location.reload(true);\n      return;\n    }\n\n    // success\n    window.location.reload(true);\n  }\n\n  const handleFind = async (text) => {\n    // add member\n    const response = await backendAPI.findIntroductions(id, searchText);\n    if (!response) return;\n\n    // form errors\n    if (response.errors) {\n      alert('Errors\\n- '+response.errors.join('\\n- '))\n      return;\n    }\n\n    // success\n    setSearchResults(response)\n  }\n\n  return (\n    <>\n      <div class='breadcrumbs'>\n        <a href=\"/members\">Members</a>\n        <span>></span>\n        {member.first_name}\n        {' '}\n        {member.last_name}\n      </div>\n\n      <div className=\"flex flex-title\">\n        <div className=\"flex-col-1\">\n          Member Page\n        </div>\n      </div>\n\n      <div className=\"flex flex-row\">\n        <div className=\"flex-col-1\">\n          Name\n        </div>\n        <div className=\"flex-col-4\">\n          {member.first_name}\n          {' '}\n          {member.last_name}\n        </div>\n      </div>\n\n      <div className=\"flex flex-row\">\n        <div className=\"flex-col-1\">\n          URL\n        </div>\n        <div className=\"flex-col-4\">\n          <a href={member.url} target=\"_blank\">{member.url}</a>\n        </div>\n      </div>\n\n      <div className=\"flex flex-row\">\n        <div className=\"flex-col-1\">\n          Short URL\n        </div>\n        <div className=\"flex-col-4\">\n          <a href={member.short_url} target=\"_blank\">{member.short_url}</a>\n        </div>\n      </div>\n\n      <div className=\"flex flex-row\">\n        <div className=\"flex-col-1\">\n          Headings\n        </div>\n        <div className=\"flex-col-4\">\n          {member.heading_text ? (\n            <>\n              {member.heading_text.split('  ').map((text) => (\n                <div>\n                  {text}\n                </div>\n              ))}\n            </>\n          ) : (\n            <>\n              -\n            </>\n          )}\n        </div>\n      </div>\n\n      <div className=\"flex flex-row\">\n        <div className=\"flex-col-1\">\n          Friends\n        </div>\n        <div className=\"flex-col-4\">\n          {friends.map((friend) =>(\n            <div class=\"margin-8-0\">\n              <a href={`/members/${friend.id}`}>{friend.first_name} {friend.last_name}</a>\n            </div>\n          ))}\n          <select class=\"margin-8-0\" onChange={(event) => {addFriend(event.target.value)}}>\n            <option value=\"0\">Add Friend... &nbsp;</option>\n            {members.map((member) =>\n              <option value={member.id}>{member.first_name} {member.last_name}</option>\n            )}\n          </select>\n        </div>\n      </div>\n      <div class=\"plus-16\"></div>\n\n      <div class=\"box\">\n        <div className=\"flex flex-title-box\">\n          <div className=\"flex-col-1\">\n            Search\n          </div>\n        </div>\n        <div className=\"plus-8\"></div>\n        <div className=\"flex flex-row-box\">\n          <div className=\"flex-col-1\">\n            <input class=\"width-400\" placeholder=\"Search Text\" value={searchText} onChange={(event) => {setSearchText(event.target.value)}} />\n            &nbsp;\n            <button onClick={handleFind}>Find Introductions</button>\n          </div>\n        </div>\n        <div class=\"plus-8 border-bottom\"></div>\n\n        <div className=\"flex flex-title-box\">\n          <div className=\"flex-col-1\">\n            Search Results\n          </div>\n          <div className=\"flex-col-2\">\n            Heading\n          </div>\n        </div>\n        {searchResults.length == 0 ? (\n          <div class=\"padding-8\">\n            <i>No Search Results</i>\n          </div>\n        ) : (\n          <>\n            {searchResults.map((result) => (\n              <div className=\"flex flex-row-box\">\n                <div className=\"flex-col-1\">\n                  {result.member}\n                  <div class=\"separator\">></div>\n                  <a href={`/member/${result.through_id}`} target=\"_blank\">{result.through}</a>\n                  <div class=\"separator\">></div>\n                  <a href={`/member/${result.to_id}`} target=\"_blank\">{result.to}</a>\n                </div>\n                <div className=\"flex-col-2\">\n                  {result.match_text}\n                </div>\n              </div>\n            ))}\n          </>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}